/*! w-eb-app 2016-06-23 */
var app=angular.module("app",[]);app.factory("matchFactory",["$http","$q",function(a,b){return{getMatches:function(){var c=b.defer();return a.get("json/match.json").then(function(a){c.resolve(a.data)},function(a){c.reject(a)}),c.promise},getMatchList:function(){var c=b.defer();return a.get("/match/list").then(function(a){c.resolve(a.data)},function(a){c.reject(a)}),c.promise},getFlags:function(){var c=b.defer();return a.get("json/flag.json").then(function(a){c.resolve(a.data)},function(a){c.reject(a)}),c.promise},createMatch:function(c){var d=b.defer();return a.post("/match/new",c).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise},updateMatch:function(c){var d=b.defer();return a.post("/match/update",c).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise}}}]),app.controller("matchController",["$scope","matchFactory",function(a,b){a.flags={},b.getFlags().then(function(b){console.log("flags",b),a.flags=b,a.getMatches()},function(b){a.matchesError=b}),a.matches=[],a.getMatches=function(){b.getMatches().then(function(b){console.log("matches",b),a.matches=b},function(b){a.matchesError=b})},a.getFlag=function(b){return a.flags[b]}}]),app.controller("matchHandlerController",["$scope","matchFactory","$timeout",function(a,b,c){a.getMatches=function(){b.getMatchList().then(function(b){a.matchList=b})},a.createMatch=function(d){b.createMatch(d).then(function(b){a.matchCreated=!0,c(function(){a.matchCreated=!1},3e3),a.getMatches()},function(){a.matchCreatedError=!0,c(function(){a.matchCreatedError=!1},3e3)})},a.updateMatch=function(d){b.updateMatch(d).then(function(b){a.matchUpdated=!0,c(function(){a.matchUpdated=!1},3e3)},function(){a.matchUpdatedError=!0,c(function(){a.matchUpdatedError=!1},3e3)})},a.getMatches()}]),app.controller("menuController",["$scope","matchFactory",function(a,b){a.appName="w-EB-app"}]);